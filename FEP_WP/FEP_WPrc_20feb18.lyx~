#LyX 2.2 created this file. For more info see http://www.lyx.org/
\lyxformat 508
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass article
\use_default_options true
\maintain_unincluded_children false
\language english
\language_package babel
\inputencoding auto
\fontencoding global
\font_roman "palatino" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize 11
\spacing onehalf
\use_hyperref false
\papersize a4paper
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine natbib
\cite_engine_type authoryear
\biblio_style 
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\branch nurWP
\selected 1
\filename_suffix 0
\color #faf0e6
\end_branch
\branch nurDoku
\selected 0
\filename_suffix 0
\color #faf0e6
\end_branch
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 4cm
\topmargin 3cm
\rightmargin 3cm
\bottommargin 3cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\listings_params "basicstyle={\footnotesize\ttfamily}"
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title
FEP – the forecast evaluation package for 
\emph on
gretl
\end_layout

\begin_layout Author
Artur Tarassow and Sven Schreiber
\begin_inset Foot
status open

\begin_layout Plain Layout
Tarassow: University of Hamburg, artur.tarassow@gmail.com, https://sites.google.com/
site/arturtarassow; Schreiber: IMK Düsseldorf and Free University Berlin,
 econ.svens.de.
\end_layout

\end_inset


\end_layout

\begin_layout Date
\begin_inset Branch nurWP
status open

\begin_layout Standard
based on FEP
\end_layout

\end_inset

 version 2.1, February 2018
\end_layout

\begin_layout Abstract
The 
\family typewriter
FEP
\family default
 function package for the 
\emph on
gretl
\emph default
 program is a collection of functions for computing different types of forecast
 evaluation statistics as well as tests.
 For ease of use a common scripting interface framework is provided, which
 is flexible enough to accommodate future additions.
 Most of the functionality is also accessible through a graphical dialog
 window interface within gretl.
 This documentation explains the usage and capabilities as well as providing
 some econometric background where necessary.
\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Section
Introduction
\end_layout

\begin_layout Standard
The 
\family typewriter
FEP
\family default
 function package is a collection of gretl functions for computing different
 types of forecast evaluation statistics as well as tests.
 
\begin_inset Branch nurWP
status open

\begin_layout Standard

\emph on
Gretl
\emph default
 is an open-source econometrics and statistics program that offers both
 a command line and a graphical menu-driven interface.
 Its core functions are implemented in C, but it also comprises a versatile
 scripting and matrix language named 
\emph on
hansl
\emph default
 which can be used to develop contributed function packages easily.
 FEP is such a package written in hansl.
 More information on gretl can be found online at 
\begin_inset Flex URL
status open

\begin_layout Plain Layout

http://gretl.sf.net
\end_layout

\end_inset

.
\end_layout

\end_inset

 The FEP package currently comprises the functions listed in table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Included-functions"

\end_inset

.
 In section 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Menu-driven-(GUI)-usage"

\end_inset

 we explain the easy usage from gretl's menu-driven interface (GUI), but
 until then we focus on the scripting way of performing the analysis.
 A function package can be downloaded and installed simply by invoking the
 install command:
\end_layout

\begin_layout LyX-Code
install FEP
\end_layout

\begin_layout Standard
Then, in each work session, as with all function packages the FEP package
 needs to be loaded by:
\end_layout

\begin_layout LyX-Code
include FEP.gfn
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Included-functions"

\end_inset

Included functions
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="14" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top" width="10cm">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
#
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Code
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
applyFCtests()
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Top-level function
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
doDMtest()
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DM
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Diebold & Mariano regression based test on forecast accuracy
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
doMZtest()
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MZ
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Mincer & Zarnowitz regression based test on optimal (point) forecasts
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
doHPtest()
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HP
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Holden & Peel extension of the Mincer & Zarnowitz regression based test
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
doCGtest()
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CG
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Campbell & Ghysels sign or signed rank (Wilcoxon type) tests for unbiasedness
 or efficiency of forecasts
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
doEKTtest_series()
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
EKT
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Elliott, Komunjer & Timmermann test of forecast rationality under flexible
 loss
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
7
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
doDLtest()
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DL
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Diebold & Lopez direction of change test
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
8
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
doKS()
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
KS
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Computes the (Hanssen-) Kuipers Score for forecasts of binary outcomes
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
9
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
doPTtest()
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PT
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pesaran & Timmermann
\begin_inset Note Note
status collapsed

\begin_layout Plain Layout
(1992) 
\end_layout

\end_inset

 test on market timing
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DrawLoss()
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
draws a single loss function and its associated confidence interval
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
11
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DrawLoss2()
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
draws two loss functions and their associated confidence intervals
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
12
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
getLoss()
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
calculate the (forecast error) loss series
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
13
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
doPS() / probscore()
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PS
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
calculate the log and quadratic probability scores for forecasts of binary
 outcomes
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
The applyFCtests() function
\end_layout

\begin_layout Standard
This is a convenient top-level function which calls the other test functions
 in the background as needed.
 The standard workflow is to define the needed gretl bundle
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
A 
\begin_inset Quotes eld
\end_inset

bundle
\begin_inset Quotes erd
\end_inset

 is a flexible gretl datatype which is basically a collection of other gretl
 objects.
 See section 10.7 of the gretl user guide (as of November 2017).
\end_layout

\end_inset

 with your input data and choices, and then call this function with the
 appropriate string code.
 Here's an example with the Mincer&Zarnowitz test:
\end_layout

\begin_layout LyX-Code
bundle b
\end_layout

\begin_layout LyX-Code
series b.y = growth # assuming 'growth' exists in current workfile
\end_layout

\begin_layout LyX-Code
series b.fc = myforecast # ditto
\end_layout

\begin_layout LyX-Code
applyFCtests(&b, 
\begin_inset Quotes eld
\end_inset

MZ
\begin_inset Quotes erd
\end_inset

) 
\end_layout

\begin_layout Standard
The first three lines set up the bundle and put some relevant data in it.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
If you're obsessed with saving lines of code, you might instead use something
 like the following: 
\family typewriter

\begin_inset Newline newline
\end_inset

bundle b = defbundle(
\begin_inset Quotes eld
\end_inset

y
\begin_inset Quotes erd
\end_inset

,growth, 
\begin_inset Quotes eld
\end_inset

fc
\begin_inset Quotes erd
\end_inset

,myforecast)
\family default
.
\end_layout

\end_inset

 Note that the names 
\begin_inset Quotes eld
\end_inset

y
\begin_inset Quotes erd
\end_inset

 and 
\begin_inset Quotes eld
\end_inset

fc
\begin_inset Quotes erd
\end_inset

 need to match exactly and are case sensitive.
 See table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Bundle-members-needed"

\end_inset

 for the possible and/or necessary bundle elements and their names, which
 depends on the test that you wish to perform.
 Note that it is possible to store additional elements in the bundle that
 are not used by a certain test.
 Therefore you can set up the bundle once and then pass it around as an
 input to various tests.
\end_layout

\begin_layout Standard
In the last line some things are noteworthy: The applyFCtests() function
 does not have any return value, so the function call stands for itself
 without any assignment to a variable.
 The results of the tests are instead added to the bundle (
\begin_inset Quotes eld
\end_inset

b
\begin_inset Quotes erd
\end_inset

 here) that is passed to the function.
 To actually enable the function to change the input bundle we need to pass
 it in so-called pointer form, which just means to preprend the ampersand
 character: 
\begin_inset Quotes eld
\end_inset

&b
\begin_inset Quotes erd
\end_inset

.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
See 
\begin_inset Quotes eld
\end_inset

Function programming details
\begin_inset Quotes erd
\end_inset

, section 13.4 of the gretl user guide (as of November 2017).
\end_layout

\end_inset

 Finally, a string code must be specified to indicate which test should
 be run, where the possible codes are given in table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Included-functions"

\end_inset

.
 There are also some supplementary functions in that table which do not
 have a string code; those functions have to be called directly and cannot
 be accessed through applyFCtests().
 But several string codes may be included in one call to applyFCtests(),
 separated by spaces.
\end_layout

\begin_layout Standard
If the function is called like this, then there will typically be some printed
 output showing the test results.
 The details depend on the respective background function, see the corresponding
 documentation below.
 The other possibility to access the results is to inspect the new members
 that are added to the bundle.
 Again, see the documentation below to learn which new members each function
 adds to the bundle.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Bundle-members-needed"

\end_inset

Bundle members needed for each function
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length -2.5cm
\end_inset


\begin_inset Tabular
<lyxtabular version="3" rows="22" columns="10">
<features booktabs="true" tabularvalignment="middle">
<column alignment="right" valignment="top" width="3cm">
<column alignment="center" valignment="top" width="2cm">
<column alignment="center" valignment="top" width="1.2cm">
<column alignment="center" valignment="top" width="1.2cm">
<column alignment="center" valignment="top" width="1.2cm">
<column alignment="center" valignment="top" width="1.2cm">
<column alignment="center" valignment="top" width="1.2cm">
<column alignment="center" valignment="top" width="1.2cm">
<column alignment="center" valignment="top" width="1.2cm">
<column alignment="center" valignment="top" width="1.2cm">
<row>
<cell alignment="right" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CG
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DL
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
EKT*
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HP
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MZ
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
KS
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PT
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PS
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\emph on
series inputs ([
\begin_inset space \thinspace{}
\end_inset

]: optional)
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Realizations
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
y
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
y
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
y
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
y
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
y
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Forecast values 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
fc
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
f1, f2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
fc
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
fc
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
fc
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Forecast errors (replaces y, fc)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(E)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(E)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Binary indicator
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
yup
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
yup 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
yup 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
yup
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Binary FC of yup 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
fcup
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
fcup 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
fcup 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
FC of
\begin_inset space \thinspace{}
\end_inset

yup prob.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
pfc
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Further tested
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[CGX]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\emph on
list inputs
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Exog.
\begin_inset space \thinspace{}
\end_inset

regressors
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
z
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Instruments
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
z
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\emph on
scalar inputs (mostly integer / all are optional)
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
FC horizon
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[fhor]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Loss type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[loss]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[loss]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Lag (efficiency test)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[k]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Bootstrap iter.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[nboot]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[nboot]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Robust switch
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[robust]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[robust]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[robust]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Initial shape 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[a0]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Verbosity
\begin_inset Note Note
status collapsed

\begin_layout Plain Layout
no option means no printout ever
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[verb]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[verb]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[verb]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[verb]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[verb]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[verb]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[verb]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[verb]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\emph on
string input (optional)
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="right" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Loss drawing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[lossdraw]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
Notes: 
\end_layout

\begin_layout Plain Layout

\emph on
robust
\emph default
 can be 0 (default) or 1 (use HAC/robust SE); 
\end_layout

\begin_layout Plain Layout

\emph on
loss
\emph default
 can be 1 (U-shape, default) or 2 (V-shape); 
\end_layout

\begin_layout Plain Layout

\emph on
verb
\emph default
 can be 0 (no details, default) or 1 (print details); 
\end_layout

\begin_layout Plain Layout

\emph on
lossdraw
\emph default
 can be 
\begin_inset Quotes eld
\end_inset

no
\begin_inset Quotes erd
\end_inset

 (default), 
\begin_inset Quotes eld
\end_inset

display
\begin_inset Quotes erd
\end_inset

, or consist of path + filename; 
\end_layout

\begin_layout Plain Layout

\emph on
fcup
\emph default
 is binary, not a probability;
\end_layout

\begin_layout Plain Layout

\emph on
k
\emph default
 can be 0 (default, no test on lags) or a positive (not too large) integer;
 note that only a single lag is tested;
\end_layout

\begin_layout Plain Layout

\emph on
a0
\emph default
 can be between 0 and 1 (non-integer, default 0.5).
\end_layout

\begin_layout Plain Layout
*: EKT refers to the doEKTtest_series() variant.
 For the matrix-based variant doEKTtest() see the source code.
\end_layout

\end_inset


\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "sec:Forecast-descriptive-statistics"

\end_inset

Forecast descriptive statistics
\end_layout

\begin_layout Subsection
Calculate the (forecast error) loss
\end_layout

\begin_layout Standard
The function getLoss() helps to calculate the forecast losses (disutilities)
 implied by the given forecast errors, according to various loss function
 assumptions such as lin-lin, square, linex, double linex.
 See table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:getLoss-–-forecast"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:getLoss-–-forecast"

\end_inset

Forecast error loss
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="2">
<features booktabs="true" tabularvalignment="middle">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="10cm">
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
getLoss(matrix fce, string LF[null], matrix param[null], matrix realiz[null])
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Calculate the (forecast error) loss
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Return type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
matrix
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function arguments
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
matrix 
\emph on
fce
\emph default
: T by k matrix of forecast errors; if 
\emph on
realiz
\emph default
 is given, 
\emph on
fce
\emph default
 is understood as the forecasts themselves 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
string 
\emph on
LF
\emph default
 (optional): specify loss function: "ll" (linlin), "qq" (or "quadquad"),
 "sq" (or "square", default), "abs", "linex" (Varian), "dlinex" (or "dle")
 for double linex (Granger)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\noindent
matrix 
\emph on
param
\emph default
 (optional): loss function parameter(s), default 0.5; 
\emph on
param
\emph default
 must be a 1-element or 2-element vector
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
matrix 
\emph on
realiz 
\emph default
(optional): matrix of realizations
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Output
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Returns a matrix with forecast error losses, of the same (T x k) dimension
 as the input matrix.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Reference
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset CommandInset citation
LatexCommand citet
key "Varian1975Linex"

\end_inset

, 
\begin_inset CommandInset citation
LatexCommand citet
key "Granger1999doublelinex"

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
Notes: About input format for 
\emph on
param:
\emph default
 For gretl versions until 2017a scalar values must explicitly be provided
 as a pseudo matrix (e.g {0.4}) while for later versions, gretl accepts a
 scalar as a 1x1 matrix.
 
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Draw some loss functions 
\end_layout

\begin_layout Standard
Draw a single (DrawLoss) or two (DrawLoss2) loss functions and its associated
 confidence interval.
 See table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:drawloss"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:drawloss"

\end_inset

Draw losses
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="2">
<features booktabs="true" tabularvalignment="middle">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="10cm">
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
DrawLoss(int p, scalar aT, scalar V, string fpath[null])
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Draw (forecast error) loss
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Return type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
none (void)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function arguments
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
int 
\emph on
p: 
\emph default
loss function type parameter, 1 = lin-lin, 2 = quad-quad
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
aT:
\emph default
 loss function shape parameter 
\begin_inset Formula $\alpha\in[0,\,1]$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
V
\emph default
: estimated variance of 
\emph on
aT
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
string 
\emph on
fpath
\emph default
 (optional): null = display figure (default) or provide complete "path+file
 name" to store figure
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Output
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
displays plot (or saves to file path)
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="10" columns="2">
<features booktabs="true" tabularvalignment="middle">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="8cm">
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
DrawLoss2(int p, scalar aT1, scalar V1, scalar aT2, scalar V2, string fpath[null
])
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Draw two (forecast error) losses
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Return type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
none (void)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function arguments
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
int 
\emph on
p: 
\emph default
loss function type parameter, 1 = lin-lin, 2 = quad-quad
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
aT1:
\emph default
 loss function shape parameter 
\begin_inset Formula $\alpha\in[0,\,1]$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
V
\emph default
1: estimated variance of 
\emph on
aT1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
aT2:
\emph default
 loss function shape parameter 
\begin_inset Formula $\alpha\in[0,\,1]$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
V
\emph default
2: estimated variance of 
\emph on
aT2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
string 
\emph on
fpath
\emph default
 (optional): null = display figure (default) or provide complete "path+file
 name" to store figure
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Output
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
displays plot (or saves to file path)
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Tools for binary outcomes
\end_layout

\begin_layout Subsubsection
\begin_inset CommandInset label
LatexCommand label
name "subsec:The-Kuipers-Score"

\end_inset

The Kuipers Score (KS)
\end_layout

\begin_layout Standard
The (Hanssen-) Kuipers Score (KS) is used to evaluate binary outcomes.
 Let 
\begin_inset Formula $f=\{0,1\}$
\end_inset

 be a forecast of the binary variable 
\begin_inset Formula $y=\{0,1\}$
\end_inset

.
 The KS is defined as the difference between the probability of detection
 (POD) and the probability of false detection (POFD).
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
The terminology is not universal it seems.
 Sometimes the POD might be called hit rate, whereas usually the hit rate
 denotes something else.
 Similarly with the POFD and the false alarm rate.
\end_layout

\end_inset

 The POD is the proportion of times where 
\begin_inset Formula $y=1$
\end_inset

 is correctly predicted.
 The POFD is the proportion of times where 
\begin_inset Formula $y=1$
\end_inset

 is wrongly predicted.
 Thus, KS is defined as 
\begin_inset Formula $KS=POD-POFD$
\end_inset

.
 See table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:doKS–-Kuipers"

\end_inset

 for the function interface and elements.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:doKS–-Kuipers"

\end_inset

Kuipers Score
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="11" columns="2">
<features booktabs="true" tabularvalignment="middle">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="10cm">
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
doKS(bundle *b)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
compute the Kuipers Score
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Return type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
none (void)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function arguments
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pointer to the model bundle.
 This bundle includes as members:
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
yup
\emph default
: binary-valued series of actuals that takes the value of unity for ups
 and otherwise zero
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
fcup
\emph default
: binary-valued forecast that takes the value of unity for ups otherwise
 zero
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
verb
\emph default
: 0 = no printout, 1 = print details
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Output
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The following new elements are stored into the model bundle: 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
KSstat
\emph default
: Kuipers score
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
matrix 
\emph on
KSmat
\emph default
: matrix holding all classifications
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Reference
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset CommandInset citation
LatexCommand citet
after "p. 396"
key "Pesaran2015"

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Probability scores – doPS() and probscore()
\end_layout

\begin_layout Standard
The probscore() function computes forecast accuracy statistics used for
 probability forecasts.
 The observed outcome is still binary, but in contrast to the Kuipers score
 the forecast here is a continuous probability.
 See table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:probscore"

\end_inset

.
 The doPS() function is just a thin wrapper around probscore that is harmonized
 with the evaluation test functions in the package; see table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:doPS"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:probscore"

\end_inset

Probability scores
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="2">
<features booktabs="true" tabularvalignment="middle">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="10cm">
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
probscore(matrix y, matrix Pr)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
computes the log (LPS) and quadratic (QPS) probability scores
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Return type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
matrix
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function arguments
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
matrix 
\emph on
y
\emph default
: binary-valued vector of actuals that takes the value of unity for ups
 and otherwise zero
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
matrix 
\emph on
Pr
\emph default
: vector of forecast probabilities of 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Output
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2-element (1 by 2) vector with QPS, LPS
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:doPS"

\end_inset

Probability scores wrapper
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="2">
<features booktabs="true" tabularvalignment="middle">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="10cm">
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
doPS(bundle *b)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
computes the log (LPS) and quadratic (QPS) probability scores
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Return type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
none (void)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function arguments
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pointer to the model bundle.
 This bundle includes as members:
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
yup
\emph default
: binary-valued series of actuals that takes the value of unity for ups
 and otherwise zero
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
pfc
\emph default
: probability forecast (between 0 and 1) that 
\emph on
yup
\emph default
 takes the value of unity 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Output
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The following new elements are stored into the model bundle: 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
qps
\emph default
: quadratic probability score
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
lps
\emph default
: log probability score
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Evaluation of individual forecasts
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "subsec:Mincer-Zarnowitz"

\end_inset

Mincer-Zarnowitz test on forecast unbiasedness – doMZtest()
\end_layout

\begin_layout Standard
Define the 
\begin_inset Formula $h$
\end_inset

-step ahead forecast made in 
\begin_inset Formula $t$
\end_inset

 as 
\begin_inset Formula $f_{t+h\text{|t}}$
\end_inset

 and the actual outcome as 
\begin_inset Formula $y_{t+h}$
\end_inset

.
 Mincer&Zarnowitz suggest to run the regression:
\begin_inset Formula 
\[
y_{t+h}=\beta_{\text{0}}+\beta_{1}f_{t+h|t}+u_{t+h}\qquad.
\]

\end_inset

Unbiasedness is viewed as a joint test of 
\begin_inset Formula $\beta_{0}=0$
\end_inset

 and 
\begin_inset Formula $\beta_{1}=1$
\end_inset

.
 Usually the corresponding test statistics is compared with asymptotic critical
 values from the F-distribution.
 H0: Forecast is unbiased and efficient.
 H1: Forecast is biased and/or inefficient.
 Intercept will be automatically inserted.
\end_layout

\begin_layout Standard
However, remaining serial correlation in 
\begin_inset Formula $u_{t+h}$
\end_inset

 yields inefficient estimates.
 Also the small sample properties are unknown.
 To account for these two potential sources of inefficiency, the user can
 compute HAC robust standard errors as well as bootstrap p-values.
\end_layout

\begin_layout Standard
See table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:doMZtest"

\end_inset

 for a synopsis.
 
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:doMZtest"

\end_inset

Mincer-Zarnowitz test
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="13" columns="2">
<features booktabs="true" tabularvalignment="middle">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="10cm">
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
doMZtest(bundle *b)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
computes the Mincer-Zarnowitz test regression on unbiasedness
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Return type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
none (void)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function arguments
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pointer to the model bundle.
 This bundle includes as members:
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
y
\emph default
: actual observations
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
fc
\emph default
: h-step ahead forecast
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
robust
\emph default
: 0 = no robust SEs (default), 1 = compute HAC SEs
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
nboot
\emph default
: 0 = no bootstrap (default), or number of bootstrap iterations
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
verb
\emph default
: 0 = no printout (default), 1 = print details
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Output
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The following new elements are stored into the model bundle: 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar MZstat: test statistics
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar MZpval: p-value
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Reference
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset CommandInset citation
LatexCommand citet
key "Mincer.Zarnowitz1969"

\end_inset


\begin_inset Note Note
status collapsed

\begin_layout Plain Layout
\align center
http://www.nber.org/books/minc69-1
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "subsec:Holden-Peel"

\end_inset

Holden-Peel test on forecast efficiency – doHPtest()
\end_layout

\begin_layout Standard
The Mincer-Zarnowitz regression can be extended to include another regressor
 (or a whole vector of additional regressors), 
\begin_inset Formula $Z_{t}$
\end_inset

, such that (assuming for simplicity that 
\begin_inset Formula $Z_{t}$
\end_inset

 is a scalar value)
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
y_{t+h}=\beta_{\text{0}}+\beta_{1}f_{t+h|t}+\beta_{2}Z_{t}+u_{t+h}\qquad.
\]

\end_inset

The hypothesis to test for a strong form
\color red

\begin_inset Note Note
status open

\begin_layout Plain Layout

\color red
(or conditional unbiasedness?)
\color inherit
 (FIXME) 
\end_layout

\end_inset


\color inherit
 of unbiasedness involves the null 
\begin_inset Formula $\beta_{0}=0$
\end_inset

, 
\begin_inset Formula $\beta_{1}=1$
\end_inset

 and 
\begin_inset Formula $\beta_{2}=0$
\end_inset

.
 An intercept will be automatically inserted.
\end_layout

\begin_layout Standard
Again the user can compute HAC robust standard errors and/or bootstrap p-values;
 see table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:doHPtest"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:doHPtest"

\end_inset

Holden-Peel test
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="14" columns="2">
<features booktabs="true" tabularvalignment="middle">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="10cm">
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
doHPtest(bundle *b)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
computes the Holden-Peel variant of the Mincer-Zarnowitz test regression
 on unbiasedness
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Return type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
none (void)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function arguments
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pointer to the model bundle.
 This bundle includes as members:
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
y
\emph default
: actual observations
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
fc
\emph default
: h-step ahead forecast
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
list 
\emph on
z
\emph default
: gretl list of additional control variables
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
robust
\emph default
: 0 = no robust SEs (default), 1 = compute HAC SEs
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
nboot
\emph default
: 0 = no bootstrap (default), or number of bootstrap iterations
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
verb
\emph default
: 0 = no printout (default), 1 = print details
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Output
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The following new elements are stored into the model bundle: 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
HPstat
\emph default
: test statistics
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
HPpval
\emph default
: p-value
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Reference
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset CommandInset citation
LatexCommand citet
key "Holden.Peel1990"

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "subsec:Campbell-&-Ghysels"

\end_inset

Campbell & Ghysels efficiency tests – doCGtest()
\end_layout

\begin_layout Standard
Here we understand 
\begin_inset Quotes eld
\end_inset

efficiency
\begin_inset Quotes erd
\end_inset

 in a broad sense, comprising unbiasedness for example.
\end_layout

\begin_layout Standard
Let us define the one-period forecast errors as 
\begin_inset Formula $e_{1t}=y_{t+1}-f_{t+1|t}$
\end_inset

.
 An indicator function indicates whether the forecast error is positive
 or negative such that 
\begin_inset Formula $u(z)=1$
\end_inset

 if 
\begin_inset Formula $z\geq0$
\end_inset

 and 
\begin_inset Formula $u(z)=0$
\end_inset

 otherwise.
 The test statistics of the sign test of unbiasedness of forecast errors
 is
\begin_inset Formula 
\[
S=\sum_{t=1}^{T}u(e_{1t}),
\]

\end_inset

where 
\begin_inset Formula $T$
\end_inset

 is the number of available forecast errors.
 While the signed rank test (see below) is defined as 
\begin_inset Formula 
\[
W=\sum_{t=1}^{T}u(e_{1t})R_{1t}^{+}
\]

\end_inset

with 
\begin_inset Formula $R_{1t}^{+}$
\end_inset

 referring to the rank of each forecast error when 
\begin_inset Formula $|e_{1t}|$
\end_inset

,..., 
\begin_inset Formula $|e_{1T}|$
\end_inset

 are placed in ascending order.
 The forecast errors are independent with zero median.
 The sign statistic 
\begin_inset Formula $S$
\end_inset

 is binomially distributed with 
\begin_inset Formula $Bi(T,\,0.5)$
\end_inset

.
 Under the additional assumption of symmetrically distributed forecast errors
 around zero, the test statistics 
\begin_inset Formula $W$
\end_inset

 follows a Wilcoxon signed rank distribution.
 Note that this test is performed once you set 
\begin_inset Formula $k=0$
\end_inset

 (or leave it out, as this is the default; see table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:doCGtest"

\end_inset

).
\end_layout

\begin_layout Standard
This test idea can also be employed to test for serial correlation in the
 forecast errors.
 Construct the product series 
\begin_inset Formula $Z_{\text{1t}}^{k}=e_{1t}e_{1(t-k)}$
\end_inset

 with 
\begin_inset Formula $k\geq1$
\end_inset

, and compute the statistics: 
\begin_inset Formula 
\[
S_{k}=\sum_{t=k+1}^{T}u(Z_{1t}^{k})\quad\text{and \quad}W_{k}=\sum_{t=k+1}^{T}u(Z_{1t}^{k})R_{2t}^{+}
\]

\end_inset

where 
\begin_inset Formula $R_{2t}^{+}$
\end_inset

 is the signed rank of the product 
\begin_inset Formula $Z_{1t}^{k}$
\end_inset

, 
\begin_inset Formula $t=1,\ldots,T$
\end_inset

.
 These location tests were proposed by 
\begin_inset CommandInset citation
LatexCommand citet
key "Dufour1981ranktest"

\end_inset

.
 Serial correlation in the forecast errors will move the centre of their
 product away from zero.
 The sign statistic 
\begin_inset Formula $S_{k}$
\end_inset

 is binomially distributed with 
\begin_inset Formula $Bi(T-k,\,0.5)$
\end_inset

.
 The test statistics 
\begin_inset Formula $W_{k}$
\end_inset

 follows a Wilcoxon signed rank distribution of size 
\begin_inset Formula $T-k$
\end_inset

.
 Note, both tests on serial correlation require to set the option 
\begin_inset Formula $k>0$
\end_inset

, and the necessary product series 
\begin_inset Formula $Z_{1t}^{k}$
\end_inset

 will be constructed automatically.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:doCGtest"

\end_inset

Campbell & Ghysels sign and signed rank
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="14" columns="2">
<features booktabs="true" tabularvalignment="middle">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="10cm">
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
doCGtest(bundle *b)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Campbell & Ghysels sign and signed rank (Wilcoxon-type) tests for unbiasedness
 or efficiency of forecasts
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Return type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
none (void)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function arguments
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pointer to the model bundle.
 This bundle includes as members:
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
y
\emph default
: actual observations
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
fc
\emph default
: forecast
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(or series 
\emph on
E
\emph default
: forecast error)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
verb
\emph default
: 0 = no printout (default), 1 = print details
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
CGX
\emph default
 (optional): variable for orthogonality (see also 
\emph on
k
\emph default
)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
k
\emph default
: set 
\begin_inset Formula $k>0$
\end_inset

 to test efficiency with respect to information at lag 
\begin_inset Formula $k$
\end_inset

 (own lag of forecast error if 
\emph on
X
\emph default
 is absent), else 
\begin_inset Formula $k=0$
\end_inset

 (or omit) to test for unbiasedness
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Output
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The following new elements are stored into the model bundle: 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
CGSIGNstat
\emph default
 and 
\emph on
CGWILCstat
\emph default
: test statistic
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
CGSIGNpval
\emph default
 and 
\emph on
CGWILCpval
\emph default
: p-value
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Reference
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset CommandInset citation
LatexCommand citet
key "Campbell.Ghysels1995"

\end_inset

, 
\begin_inset CommandInset citation
LatexCommand citet
key "Campbell.Ghysels1997"

\end_inset

, 
\begin_inset CommandInset citation
LatexCommand citet
key "Dufour1981ranktest"

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
Notes: The calculation of CGWILCpval, the p-value of the Wilcoxon-type signed
 rank tests, depends on the WSRpvalue function in the special package 
\begin_inset Quotes eld
\end_inset

extra
\begin_inset Quotes erd
\end_inset

 for gretl (
\begin_inset Formula $\geq$
\end_inset

v0.41).
 Please install that package manually from the gretl package repository
 if the automatic loading fails.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Lastly, one can use this framework to assess whether the forecast has made
 efficient use of the available information represented by the series 
\begin_inset Formula $X$
\end_inset

 in 
\begin_inset Formula $t$
\end_inset

.
 For this, one needs to construct the product series 
\begin_inset Formula $Z_{t}^{k}=e_{ht}X_{t-k}^{c}$
\end_inset

 with 
\begin_inset Formula $k>0$
\end_inset

 based on the recursively re-centered series 
\begin_inset Formula $X_{t}^{c}=X_{t}-\text{median}(X_{1},X_{2},\ldots,X_{t})$
\end_inset

.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

Recursive
\begin_inset Quotes erd
\end_inset

 in the sense that for the calculation of the median in each period 
\begin_inset Formula $t$
\end_inset

 only realizations up to 
\begin_inset Formula $t$
\end_inset

 are used, not all observations from the eforecast evaluation sample.
 Otherwise the centering would contradict the real-time information flow
 and would not be feasible for actual forecasting.
 
\end_layout

\end_inset

 This way of re-centering requires, however, that the series 
\begin_inset Formula $X_{t}$
\end_inset

 is stationary and has no trend.
\end_layout

\begin_layout Standard
The sign and signed rank statistics are given by 
\begin_inset Formula 
\[
S_{ok}=\sum_{t=k+1}^{T}u(Z_{t}^{k})\quad\text{and \quad}W_{ok}=\sum_{t=k+1}^{T}u(Z_{t}^{k})R_{1t}^{+},
\]

\end_inset

noting that the ranks used refer to the forecast errors, not to 
\begin_inset Formula $Z_{t}^{k}$
\end_inset

, to obtain a statistic with a known and valid distribution; see 
\begin_inset CommandInset citation
LatexCommand citet
after "pp. 3"
key "Campbell.Ghysels1995"

\end_inset

 or 
\begin_inset CommandInset citation
LatexCommand citet
after "p. 560"
key "Campbell.Ghysels1997"

\end_inset

 for a discussion.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
When 
\begin_inset Formula $X_{t}$
\end_inset

 is strictly exogenous without any feedback occurring from the forecast
 errors to future realizations of 
\begin_inset Formula $X$
\end_inset

 the ranks of 
\begin_inset Formula $Z_{t}^{k}$
\end_inset

 could also be used, and this would then indeed equal a Wilcoxon signed
 rank test on 
\begin_inset Formula $Z_{t}^{k}$
\end_inset

.
 This variant is not implemented, however, because the assumption appears
 very strong and hardly relevant in practice.
 
\end_layout

\end_inset

 This orthogonality test can be achieved by passing the series as CGX in
 the bundle.
 See table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:doCGtest"

\end_inset

.
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "subsec:Elliott,-Komunjer"

\end_inset

Elliott, Komunjer, and Timmermann test with asymmetric loss – doEKTtest()
\begin_inset Foot
status open

\begin_layout Plain Layout
For historical reasons and backward compatibility the doEKTtest function
 up to FEP version 2.1 has operated on matrices.
 The preferred interface now is based on a bundle and series as described
 in this document.
 The doEKTtest_series function has fulfilled that role since version 2.0.
 Starting with version 2.2 the doEKTtest function will follow the preferred
 interface (be an alias for doEKTtest_series), and a new wrapper function
 doEKTtest_matrix will provide the old access for those who need it.
\end_layout

\end_inset


\begin_inset Argument 1
status open

\begin_layout Plain Layout
Elliott/Komunjer/Timmermann test (asymmetric loss) – doEKTtest()
\end_layout

\end_inset


\end_layout

\begin_layout Standard
This is a test for forecast rationality that allows for asymmetric loss.
 As a side product the parameters of a general class of loss functions can
 be estimated.
\end_layout

\begin_layout Standard
\begin_inset CommandInset citation
LatexCommand citet
key "Elliot.etal2005"

\end_inset

 propose a flexible class of loss functions, the so-called EKT loss function:
\begin_inset Formula 
\[
L(e)=\left[\alpha+(1-\alpha)\mathbf{I}(e<0)\right]|e|^{p},\quad\alpha\in[0,1]
\]

\end_inset

where 
\begin_inset Formula $\mathbf{I}$
\end_inset

 is an indicator function which equals one if the forecast error 
\begin_inset Formula $e=y-f<0$
\end_inset

, and otherwise zero.
 Asymmetric loss is given for 
\begin_inset Formula $\alpha\neq0.5$
\end_inset

, and where values exceeding 0.5 indicate greater aversion to positive forecast
 errors.
 Setting 
\begin_inset Formula $p=1$
\end_inset

 results in a lin-lin loss function with possibly different slopes under
 asymmetric loss.
 The quadratic loss function is given for the special setting 
\begin_inset Formula $p=2$
\end_inset

 and 
\begin_inset Formula $\alpha=0.5$
\end_inset

.
 Asymmetric quadratic loss functions are produced under 
\begin_inset Formula $p=2$
\end_inset

 and 
\begin_inset Formula $\alpha\neq0.5$
\end_inset

.
\end_layout

\begin_layout Standard
The unknown loss function parameter 
\begin_inset Formula $\alpha$
\end_inset

 is estimated by means of a linear instrumental variable (IV) approach.
 The computation of the linear IV estimator 
\begin_inset Formula $\hat{\alpha}$
\end_inset

 is done iteratively.
 Using the same notation as in 
\begin_inset CommandInset citation
LatexCommand citet
key "Elliot.etal2005"

\end_inset

 we set the initial weighting matrix 
\begin_inset Formula $S$
\end_inset

 to be the identity matrix 
\begin_inset Formula $I_{d}$
\end_inset

, where 
\begin_inset Formula $d$
\end_inset

 refers to the number of instruments used.
 Based on the initial 
\begin_inset Formula $S$
\end_inset

 one can compute the initial 
\begin_inset Formula $\hat{\alpha}_{1}$
\end_inset

 which in turn can be used to compute the precision matrix 
\begin_inset Formula $S^{-1}=(\hat{\alpha}_{1})$
\end_inset

.FIXME formula means what?? 
\end_layout

\begin_layout Standard
These steps are repeated until some convergence criteria is met.
\end_layout

\begin_layout Standard
The user can use the framework to (i) test for symmetric loss, and (ii)
 for rationality.
 As 
\begin_inset Formula $\hat{\alpha}$
\end_inset

 is asymptotically normal and its variance is identical to the one obtained
 by the standard GMM estimator, one can test the null of symmetry, 
\begin_inset Formula $H_{0}:\alpha=0.5$
\end_inset

, against the alternative, 
\begin_inset Formula $H_{0}:\alpha\neq0.5$
\end_inset

, by a t-test.
\end_layout

\begin_layout Standard
For a given 
\begin_inset Formula $p_{0}$
\end_inset

 the user can test for rationality if the number of instruments 
\begin_inset Formula $d>1$
\end_inset

.
 Testing for over-identification by means of a 
\begin_inset Formula $J$
\end_inset

-type test provides a joint test for rationality of the forecasts.
 The EKT approach allows to test for rationality (i) either for an unknown
 
\begin_inset Formula $\alpha$
\end_inset

 or (ii) by imposing the restriction of symmetry 
\begin_inset Formula $\alpha=0.5$
\end_inset

.
\end_layout

\begin_layout Standard
See table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:doEKTtest"

\end_inset

 for the synopsis, and note that the instruments 
\emph on
z
\emph default
 should not contain an intercept, it will be added automatically.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:doEKTtest"

\end_inset

Elliott, Komunjer and Timmermann test
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="22" columns="2">
<features booktabs="true" tabularvalignment="bottom">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="10cm">
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
doEKTtest_series(bundle *b)
\begin_inset Newline newline
\end_inset

<doEKTtest(bundle *b) from v2.2>
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Elliott, Komunjer and Timmermann test for forecast rationality that allows
 for asymmetric loss
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Return type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
none (void)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function arguments
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pointer to the model bundle.
 This bundle includes as members:
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
y
\emph default
: actual observations
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
fc
\emph default
: h-step ahead forecast
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(or series 
\emph on
E
\emph default
: forecast error)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
list 
\emph on
z
\emph default
: instruments
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
a0
\emph default
: initial value of shape parameter 
\emph on
alpha
\emph default
 (between 0 and 1, default 0.5)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
loss
\emph default
: Loss function type: 1 = U-shape (default), 2 = V-shape
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
verb
\emph default
: 0 = no printout (default), 1 = print details
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
string 
\emph on
lossdraw
\emph default
: "no" = no draw (default), "display" = immediate plot, "Path+filename"
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Output
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The following new elements are stored into the model bundle: 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
alpha
\emph default
: estimated shape parameter
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
V
\emph default
: estimated variance of 
\emph on
alpha
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
SymTest
\emph default
: test statistics of test for symmetric loss function 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
SymPval
\emph default
: p-value of test for symmetric loss function 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
RatTest
\emph default
: test statistics of test for rationality conditional on estimated 
\emph on
alpha
\emph default
 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
RatPv
\emph default
: p-value of test for rationality conditional on estimated 
\emph on
alpha
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
RatTest05
\emph default
: test statistics of test for rationality conditional on symmetry (as if
 alpha = 0.5)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
RatPv05
\emph default
: p-value of test for rationality conditional conditional on symmetry (as
 if alpha = 0.5)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Reference
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset CommandInset citation
LatexCommand citet
key "Elliot.etal2005"

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Pesaran-Timmermann test on market timing – doPTtest()
\end_layout

\begin_layout Standard
While the Kuipers score just computes the difference between the hit rate,
 
\begin_inset Formula $H$
\end_inset

, and the false alarm rate, 
\begin_inset Formula $F$
\end_inset

, it is not a proper statistical test.
 Pesaran and Timmermann (PT) have proposed a simple test on market timing
 using binary outcomes.
 The basic idea is to test whether predicted ups are independent of actual
 ups or not.
\end_layout

\begin_layout Standard
Let 
\begin_inset Formula $f=\{0,1\}$
\end_inset

 be a forecast of the binary variable 
\begin_inset Formula $Y=\{0,1\}$
\end_inset

.
 Denote the corresponding time series of binary predictions as 
\begin_inset Formula $x_{t}$
\end_inset

 and actual realizations of 
\begin_inset Quotes eld
\end_inset

ups
\begin_inset Quotes erd
\end_inset

 (or unity values) as 
\begin_inset Formula $y_{t}$
\end_inset

.
 How the forecaster obtains the forecasts 
\begin_inset Formula $x_{t}$
\end_inset

 –e.g.
\begin_inset space \thinspace{}
\end_inset

through a model of a latent variable in the background– is irrelevant here.
 
\end_layout

\begin_layout Standard
The PT test statistic can be approximated by the t-ratio of the 
\begin_inset Formula $\beta_{1}$
\end_inset

 coefficient of the following OLS regression 
\begin_inset Formula 
\[
y_{t}=\beta_{0}+\beta_{1}x_{t}+u_{t}.
\]

\end_inset

Under the null hypothesis that predictions and realizations are independently
 distributed, the restriction 
\begin_inset Formula $\beta_{1}=0$
\end_inset

 holds.
 The test statistic follows asymptotically a standard normal distribution.
 A rejection of the null hypothesis indicates predictive failure.
 Serial correlation in the errors, 
\begin_inset Formula $u_{t}$
\end_inset

, are likely to occur but can be dealt with by using Bartlett weights to
 compute HAC standard errors.
 
\end_layout

\begin_layout Standard
A second –non-regression based– approach to compute the test instead is
 to rely on the correlation coefficient between forecasts and predictions,
 
\begin_inset Formula $\rho$
\end_inset

.
 The test statistics is computed by 
\begin_inset Formula $\rho\times\sqrt{T}$
\end_inset

 where 
\begin_inset Formula $T$
\end_inset

 refers to the number of forecasts available.
 The test statistic also follows a standard normal distribution asymptotically
 and cannot be robustified.
\end_layout

\begin_layout Standard
See table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:doPTtest"

\end_inset

 for a synopsis.
 
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:doPTtest"

\end_inset

Pesaran & Timmermann test on market timing
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="12" columns="2">
<features booktabs="true" tabularvalignment="bottom">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="10cm">
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
doPTtest(bundle *b)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pesaran & Timmermann test on market timing based on binary outcomes
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Return type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
none (void)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function arguments
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pointer to the model bundle.
 This bundle includes as members:
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
yup
\emph default
: binary-valued series of actuals that takes the value of unity for ups
 and otherwise zero
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
fcup
\emph default
: binary-valued forecast that takes the value of unity for ups otherwise
 zero
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
robust
\emph default
: 0 = correlation-based PT test, 1 = regression-based with HAC robust SEs
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
verb
\emph default
: 0 = no printout, 1 = print details
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Output
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The following new elements are stored into the model bundle: 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
PTstat
\emph default
: test statistic
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
PTpval
\emph default
: p-value
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Reference
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset CommandInset citation
LatexCommand citet
key "Pesaran.Timmermann1992"

\end_inset

, 
\begin_inset CommandInset citation
LatexCommand citet
after "p. 398"
key "Pesaran2015"

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "subsec:Diebold-Lopez"

\end_inset

Diebold-Lopez direction-of-change test – doDLtest()
\end_layout

\begin_layout Standard
Diebold & Lopez direction of change test which is in principle just Pearson's
 
\begin_inset Formula $\chi$
\end_inset

- square test.
 H0: The direction-of-change forecast has no value meaning that the forecasts
 and realizations are independent.
 H1: The direction-of-change forecast has some value.
 (The side output of 
\emph on
DLinfo
\emph default
 is closely related to the Kuipers score, namely by adding unity to it.)
\end_layout

\begin_layout Standard
See table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:doDLtest"

\end_inset

 for a synopsis.
 
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:doDLtest"

\end_inset

Diebold and Lopez test
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="12" columns="2">
<features booktabs="true" tabularvalignment="bottom">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="10cm">
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
doDLtest(bundle *b)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Diebold and Lopez test for predictive accuracy of a direction-of-change
 forecast
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Return type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
none (void)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function arguments
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pointer to the model bundle.
 This bundle includes as members:
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
yup
\emph default
: binary-valued series of actuals that takes the value of unity for ups
 and otherwise zero
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
fcup
\emph default
: binary-valued forecast that takes the value of unity for ups otherwise
 zero
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
verb
\emph default
: 0 = no printout (default), 1 = print details
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Output
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The following new elements are stored into the model bundle: 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
DLstat
\emph default
: test statistic
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
DLpval
\emph default
: p-value
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
DLinfo
\emph default
: additional info value
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Reference
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset CommandInset citation
LatexCommand citet
key "Diebold.Lopez1996"

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Evaluation and comparison of multiple forecasts
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "subsec:Diebold-Mariano"

\end_inset

Diebold-Mariano test – doDMtest()
\end_layout

\begin_layout Standard
First, note that there also exists a dedicated contributed gretl function
 package called 
\begin_inset Quotes eld
\end_inset

DiebMar.gfn
\begin_inset Quotes erd
\end_inset

 by Giulio Palomba.
 It only partly overlaps with the features of the doDMtest() function, so
 it might be useful for you, too.
\end_layout

\begin_layout Standard
The Diebold-Mariano (DM) test of equivalent expected loss takes explicitly
 into account the underlying loss function as well as sampling variation
 in the average losses.
\end_layout

\begin_layout Standard
We define the 
\begin_inset Formula $h$
\end_inset

-step ahead forecast error and its associated loss function by 
\begin_inset Formula $e_{t+h|t}$
\end_inset

 and 
\begin_inset Formula $L(e_{t+h|t})$
\end_inset

, respectively.
 The loss differential of two non-nested forecasts for observation 
\begin_inset Formula $t+h$
\end_inset

 is given by 
\begin_inset Formula $d_{12,t+h}=$
\end_inset


\begin_inset Formula $L(e_{1,t+h|t})-L(e_{2,t+h|t})$
\end_inset

.
 Specifically, one can test the null hypothesis of equal predictive accuracy
 
\begin_inset Formula 
\[
H_{0}:\quad E(d_{12,t+h})=0
\]

\end_inset

against either an one-sided alternative or against a two-sided alternative.
 Under the null, the test statistics is 
\begin_inset Formula $DM=\bar{d}_{12,t+h}/\widehat{\sigma}_{\bar{d}_{12,t+h}}\rightarrow N(0,1)$
\end_inset

 where 
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none

\begin_inset Formula $\bar{d}_{12,t+h}=F^{-1}\sum_{j=1}^{F}d_{12,j,t+h}$
\end_inset

 refers to the sample mean loss differential and 
\begin_inset Formula $\widehat{\sigma}_{\bar{d}_{12,t+h}}$
\end_inset

 is a consistent estimate of its standard deviation based on 
\begin_inset Formula $F$
\end_inset

 forecasts available.
\end_layout

\begin_layout Standard
However, due to serial correlation in the forecast errors, we compute alternativ
ely the following regression-based version using OLS combined with HAC robust
 standard errors: 
\begin_inset Formula 
\[
d_{12,t+h|t}=\beta+u_{t}
\]

\end_inset

where 
\begin_inset Formula $u_{t}$
\end_inset

 is an 
\begin_inset Formula $i.i.d.$
\end_inset

 zero-mean error term.
 The null of equal forecast accuracy between the two point forecasts is
 defined as 
\begin_inset Formula $\beta=0$
\end_inset

.
 The test statistics, 
\begin_inset Formula $t_{DM}$
\end_inset

, follows asymptotically a standard normal distribution.
\end_layout

\begin_layout Standard
Harvey, Leybourne and Newbold have suggested the following small-sample
 corrected degress-of-freedom adjusted t-statistics 
\begin_inset Formula 
\[
t_{HLN}=[1+F^{-1}(1-2\times h)+F^{-2}h\times(h-1)]^{0.5}\times t_{DM}
\]

\end_inset

where 
\begin_inset Formula $F$
\end_inset

 and 
\begin_inset Formula $h$
\end_inset

 refer to the number of forecasts and the 
\begin_inset Formula $h$
\end_inset

-step forecast horizon.
 See table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:doDMtest"

\end_inset

 for a synopsis.
 
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:doDMtest"

\end_inset

Diebold and Mariano test
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="17" columns="2">
<features booktabs="true" tabularvalignment="bottom">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="10cm">
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
doDMtest(bundle *b)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Diebold and Mariano test for predictive accuracy, compute regression-based
 with HAC robust SEs
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Return type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
none (void)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Function arguments
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pointer to the model bundle.
 This bundle includes as members:
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
y
\emph default
: realized values
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
f1
\emph default
: forecast values of model 1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
f
\emph default
2: forecast values of model 2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
fhor
\emph default
: forecast horizon (default 1)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
loss
\emph default
: Loss function type: 1 = U-shape (default), 2 = V-shape
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
verb
\emph default
: 0 = print no details (default), 1 = print details
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Output
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The following new elements are stored into the model bundle: 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
series 
\emph on
L
\emph default
: loss differentials
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
DMstat
\emph default
: test statistics (not small-sample adjusted)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
DMpvaln
\emph default
: p-value based on standard normal
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
DMpvalt
\emph default
: p-value based on t-distribution
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
scalar 
\emph on
DMpvalssc
\emph default
: p-value using small-sample correction
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Reference
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset CommandInset citation
LatexCommand citet
key "Diebold1995"

\end_inset

, 
\begin_inset CommandInset citation
LatexCommand citet
key "Harvey.etal1997"

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "sec:Menu-driven-(GUI)-usage"

\end_inset

Menu-driven (GUI) usage 
\end_layout

\begin_layout Standard
To install the FEP package using the GUI one follows the usual steps for
 contributed function packages: Open the function package list window for
 example via the menu File / Function packages / On server, then find the
 FEP entry and click the install button (or mouse right-click and choose
 Installation in the context pop-up menu).
\end_layout

\begin_layout Standard
For the precise meaning of the inputs to the respective functions please
 see the function documentation above, but ideally, using this package from
 gretl's menu interface should be mostly self-explanatory.
 From the menus you can only execute one test at a time.
\end_layout

\begin_layout Standard
Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Screenshot"

\end_inset

 shows the layout of the central window where choices and specifications
 are entered.
 In order to keep the number of argument fields in this window within reasonable
 bounds, some fields have different overloaded meanings depending on which
 test is chosen.
 For example, the penultimate entry field expects a gretl list, and this
 input is relevant for the HP, DL, EKT, and CG variants.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
This will be transferred internally to the various function arguments 
\begin_inset Quotes eld
\end_inset

z
\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset

ref
\begin_inset Quotes erd
\end_inset

, or 
\begin_inset Quotes eld
\end_inset

CGX
\begin_inset Quotes erd
\end_inset

, respectively.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename FEP_Screenshot.png
	width 85text%
	clip

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Screenshot"

\end_inset

Screenshot of the FEP graphical interface (under Windows 10)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
The output from executing the function from the GUI is presented to the
 user in a new window, mostly simply with the printed test result.
 At the top of that output there is a toolbar including 
\begin_inset Quotes eld
\end_inset

save
\begin_inset Quotes erd
\end_inset

 and 
\begin_inset Quotes eld
\end_inset

bundle
\begin_inset Quotes erd
\end_inset

 icons.
 The save button allows you to save first the textual output, and secondly
 the whole produced bundle to the current gretl session.
 The bundle button in turn gives you direct access to the various produced
 bundle members which can also be saved.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
The concrete images of those icons will depend on your OS and/or your desktop
 theme, but they are the first two buttons from the left.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Note that only the actual test functions are choosable from the GUI, not
 the helper functions from section 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Forecast-descriptive-statistics"

\end_inset

.
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "sec:Illustrative-example"

\end_inset

Illustrative example
\end_layout

\begin_layout Standard
In the following an applied example using survey-based forecasts for annual
 growth of euro area (EA) real GDP is presented.
 Forecasts are averages based on surveys among professional forecasters,
 
\begin_inset Formula $fc_{t}$
\end_inset

, conducted by the Economist magazine and obtained through the Macrobond
 database.
 The realizations, 
\begin_inset Formula $y_{t}$
\end_inset

, are from the AMECO database provided by the European Commission.
 Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Forecast-error-for"

\end_inset

 depicts the forecast errors, 
\begin_inset Formula $e_{t}=y_{t}-fc_{t}$
\end_inset

.
 In the following the main (but not all) functions of the FEP package are
 applied.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ForecastError_Polldata.png
	scale 70
	rotateOrigin center

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Forecast-error-for"

\end_inset

Forecast error for euro area growth of real GDP
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Tests on unbiasedness
\end_layout

\begin_layout Standard
We run the parametric Mincer-Zarnowitz test on forecast unbiasedness using
 bootstrap p-values (999 iterations, 
\emph on
iid
\emph default
) and HAC standard errors, see section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Mincer-Zarnowitz"

\end_inset

.
 First an empty bundle is defined, then the series and parameters are added:
\end_layout

\begin_layout LyX-Code
bundle b = null
\end_layout

\begin_layout LyX-Code
series b.y = y   # realizations
\end_layout

\begin_layout LyX-Code
series b.fc = fc # forecasts
\end_layout

\begin_layout LyX-Code
b.nboot = 999
\end_layout

\begin_layout LyX-Code
b.robust = 1 # 1= HAC robust VCV
\end_layout

\begin_layout LyX-Code
b.verb = 1   # 1=print details
\end_layout

\begin_layout LyX-Code
applyFCtests(&b, "MZ") # call the top-level function
\end_layout

\begin_layout LyX-Code
*** OUTPUT ***
\end_layout

\begin_layout LyX-Code
Method: Approach using HAC robust VCV.
\end_layout

\begin_layout LyX-Code
Bootstrap p-value using 999 iterations.
\end_layout

\begin_layout LyX-Code
H0: forecasts are unbiased
\end_layout

\begin_layout LyX-Code
Test stat.: 5.6758
\end_layout

\begin_layout LyX-Code
p-value.: 0.3874
\end_layout

\begin_layout Standard
As can be seen, the null hypothesis cannot be rejected at standard levels
 which indicates that the forecast errors are unbiased.
\end_layout

\begin_layout Standard
A non-parametric alternative test approach for forecast unbiasedness was
 proposed by Campbell and Ghysels, as discussed in section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Campbell-&-Ghysels"

\end_inset

.
 Assuming that the previous code has been executed and thus 
\family typewriter
b
\family default
, 
\family typewriter
b.y
\family default
, 
\family typewriter
b.fc
\family default
 and 
\family typewriter
b.verb
\family default
 are already defined, the CG test can be performed as follows:
\end_layout

\begin_layout LyX-Code
applyFCtests(&b, "CG")
\end_layout

\begin_layout LyX-Code
printf "P-value Wilcoxon-type rank sign test = %.3f
\backslash
n", b.CGWILCpval
\end_layout

\begin_layout LyX-Code
printf "P-value sign test = %.3f
\backslash
n", b.CGSIGNpval
\end_layout

\begin_layout LyX-Code
*** OUTPUT ***
\end_layout

\begin_layout LyX-Code
P-value Wilcoxon-type rank sign test = 0.122
\end_layout

\begin_layout LyX-Code
P-value sign test = 0.096
\end_layout

\begin_layout Standard
These nonparametric tests do not provide strong evidence against unbiasedness,
 either.
 However, if a researcher assumed an underlying asymmetric distribution
 the only adequate test would be the nonparametric sign test, which might
 be considered borderline significant here.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
The empirical skewness in this sample is -0.6.
 A skewed distribution would obviously imply non-Gaussianity; the Shapiro-Wilk
 test of the null of a normal distribution yields a p-value of 0.096, the
 Doornik-Hansen test in turn produces 0.152, thus somewhat borderline again.
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Tests on efficiency
\end_layout

\begin_layout Standard
The Holden-Peel test is a parametric test of efficiency, see section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Holden-Peel"

\end_inset

.
 We simply use lagged forecasts, 
\begin_inset Formula $fc_{t-1}$
\end_inset

, as the conditional variable.
 The HP test with bootstrap HAC standard errors is easily executed by:
\end_layout

\begin_layout LyX-Code
list b.z = fc(-1) # use lagged forecast as conditional variable
\end_layout

\begin_layout LyX-Code
applyFCtests(&b, "HP")
\end_layout

\begin_layout LyX-Code
*** OUTPUT ***
\end_layout

\begin_layout LyX-Code
Method: Approach using HAC robust VCV.
\end_layout

\begin_layout LyX-Code
Bootstrap p-value using 999 iterations.
\end_layout

\begin_layout LyX-Code
H0: forecasts are efficient
\end_layout

\begin_layout LyX-Code
Test stat.: 8.1013
\end_layout

\begin_layout LyX-Code
p-value.: 0.2853
\end_layout

\begin_layout Standard
Hence, this parametric test result does not indicate any issue with forecast
 efficiency conditional on 
\begin_inset Formula $fc_{t-1}$
\end_inset

.
\end_layout

\begin_layout Standard
A non-parametric version is also provided by the CG test approach which
 can be used as follows: FIXME...
 k/CGX siehe email...
\end_layout

\begin_layout LyX-Code
b.k = 1
\end_layout

\begin_layout LyX-Code
series b.CGX = fc(-1)
\end_layout

\begin_layout LyX-Code
smpl fc(-1) --no-missing # avoid NAs in the sample
\end_layout

\begin_layout LyX-Code
applyFCtests(&b, "CG")
\end_layout

\begin_layout LyX-Code
printf "P-value Wilcoxon-type rank sign test = %.3f
\backslash
n", b.CGWILCpval
\end_layout

\begin_layout LyX-Code
printf "P-value sign test = %.3f
\backslash
n", b.CGSIGNpval
\end_layout

\begin_layout LyX-Code
*** OUTPUT ***
\end_layout

\begin_layout LyX-Code
P-value Wilcoxon-type rank sign test = 0.008
\end_layout

\begin_layout LyX-Code
P-value sign test = 0.001
\end_layout

\begin_layout Standard
Thus, the non-parametric test raises doubts that the forecasts have made
 efficient use of available information, as the null can be safely rejected
 at the 1% level.
\end_layout

\begin_layout Subsection
Tests on asymmetric loss and forecast rationality
\end_layout

\begin_layout Standard
The framework proposed by 
\begin_inset CommandInset citation
LatexCommand citet
key "Elliot.etal2005"

\end_inset

 extends parts of the previous analysis to the case of asymmetric loss functions
, cf.
\begin_inset space ~
\end_inset

section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Elliott,-Komunjer"

\end_inset

.
 We will use lagged forecast errors as an additional instrument apart from
 an intercept for illustration, and assume a quad-quad loss function.
 (Strictly speaking, the explicit specification of 
\family typewriter
b.loss
\family default
 is redundant, since the quadratic U-shape is the default, see Table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Bundle-members-needed"

\end_inset

.)
\end_layout

\begin_layout LyX-Code
b.loss = 1 # Loss function (1=quad-quad, 2=lin-lin)
\end_layout

\begin_layout LyX-Code
series fcerr = y - fc
\end_layout

\begin_layout LyX-Code
series fcerr1 = fcerr(-1) # additional instrument
\end_layout

\begin_layout LyX-Code
list b.z = fcerr # instrumental variable FIXME: fcerr1 ??
\end_layout

\begin_layout LyX-Code
smpl fcerr fcerr1 --no-missing
\end_layout

\begin_layout LyX-Code
b.a0 = 0.5 # Initial value of shape parameter aT
\end_layout

\begin_layout LyX-Code
string b.lossdraw = "display"
\end_layout

\begin_layout LyX-Code
applyFCtests(&b, "EKT")
\end_layout

\begin_layout LyX-Code
*** OUTPUT ***
\end_layout

\begin_layout LyX-Code
* Test for Symmetry: H0: aT=0.5 vs.
 H1: aT!=0.5
\end_layout

\begin_layout LyX-Code
Estim.
 alpha = 0.236, Test stat.
 = -2.41, P-value = 0.0158
\end_layout

\begin_layout LyX-Code
* Rationality Test
\end_layout

\begin_layout LyX-Code
Estim.
 alpha = 0.236, J-statistics = 1.46, P-value = 0.227
\end_layout

\begin_layout LyX-Code
* Rationality Test
\end_layout

\begin_layout LyX-Code
Alpha fixed to 0.5, J-statistics = 7.28, P-value = 0.0262
\end_layout

\begin_layout Standard
The null of symmetric loss can be rejected at the 5% level, and after imposing
 symmetry anyway one would indeed reject the null of forecast rationality
 at the 5% level.
 However, under the estimated asymmetric loss function one cannot reject
 the null of forecast rationality.
 Here the suggested conclusion is that the forecasts may be regarded as
 
\begin_inset Quotes eld
\end_inset

rational
\begin_inset Quotes erd
\end_inset

, but only if one departs from the assumption of a symmetric forecast error
 loss function.
 
\end_layout

\begin_layout Standard
The estimated 
\begin_inset Formula $\hat{\alpha}$
\end_inset

 is 0.236 which indicates greater aversion to negative forecast errors.
 This is perhaps not surprising considering the sequence of positive forecast
 errors in the first part of the sample.
 Apart from the reported test results, a plot of the estimated loss function
 is returned (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Estimated-loss-function"

\end_inset

).
 The upper and lower lines represent a confidence band due to the estimation
 uncertainty of the asymmetry parameter 
\begin_inset Formula $\hat{\alpha}$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename EKTLoss_Polldata.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Estimated loss function using the EKT approach
\begin_inset CommandInset label
LatexCommand label
name "fig:Estimated-loss-function"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Forecast comparison
\end_layout

\begin_layout Standard
The Diebold-Mariano approach tests for equal predictive accuracy of two
 competing forecasts (section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Diebold-Mariano"

\end_inset

).
 We compare the current forecast for simplicity with the pre-year (naive)
 forecast assuming linear loss.
 The test is called by:
\end_layout

\begin_layout LyX-Code
b.f1 = fc    # FC 1 series
\end_layout

\begin_layout LyX-Code
b.f2 = y(-1) # FC 2 series: naive pre-year realization
\end_layout

\begin_layout LyX-Code
b.loss = 2 # 1="U-shape", 2="V-shape"
\end_layout

\begin_layout LyX-Code
applyFCtests(&b, "DM")
\end_layout

\begin_layout LyX-Code
*** OUTPUT ***
\end_layout

\begin_layout LyX-Code
Loss: V-shape linear.
\end_layout

\begin_layout LyX-Code
Forecast horizon: 1
\end_layout

\begin_layout LyX-Code
H0: forecasts are equally accurate
\end_layout

\begin_layout LyX-Code
Test stat.: -2.5611
\end_layout

\begin_layout LyX-Code
p-value (stand.
 normal): 0.0104
\end_layout

\begin_layout LyX-Code
p-value (t-distributed): 0.0209
\end_layout

\begin_layout LyX-Code
p-value (small-sample): 0.0178
\end_layout

\begin_layout Standard
The null hypothesis can be rejected at the 5% significance level for all
 three versions computed.
 The negative test statistic (-2.56) indicates that the 
\begin_inset Quotes eld
\end_inset

real
\begin_inset Quotes erd
\end_inset

 survey-based forecast is more accurate compared to the naive one.
\end_layout

\begin_layout Subsection
Directional forecast
\end_layout

\begin_layout Standard
Apart from point forecasts, directional forecasts may be of interest.
 The 
\emph on
Kuipers score
\emph default
 (KS) is a widely applied simple statistic to summarize directional forecasts,
 see section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:The-Kuipers-Score"

\end_inset

.
 The following lines first compute the dummy variables 
\family typewriter
yup
\family default
 and 
\family typewriter
fcup
\family default
 which take the value of one if the period-change in realized (or forecast)
 values is positive (otherwise zero), and then execute the KS computation.
 
\end_layout

\begin_layout LyX-Code
series b.yup = (diff(y) > 0)
\end_layout

\begin_layout LyX-Code
series b.fcup = (diff(fc) > 0)
\end_layout

\begin_layout LyX-Code
applyFCtests(&b, "KS") # could also use doKS(&b)
\end_layout

\begin_layout LyX-Code
*** OUTPUT ***
\end_layout

\begin_layout LyX-Code
Hit Rate = 1.000
\end_layout

\begin_layout LyX-Code
False Alarm Rate = 0.100
\end_layout

\begin_layout LyX-Code
Kuipers Score = 0.900
\end_layout

\begin_layout Standard
Accordingly, the forecasts have a perfect hit rate of 1 meaning that all
 
\begin_inset Quotes eld
\end_inset

ups
\begin_inset Quotes erd
\end_inset

 are correctly predicted.
 The false alarm rate is only 10% such that the KS statistic is 0.9 which
 indicates a good directional forecast performance.
\end_layout

\begin_layout Standard
Finally, the 
\emph on
Diebold-Lopez
\emph default
 test (section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Diebold-Lopez"

\end_inset

) tests whether a directional forecast is significantly different from a
 coin flip.
 The relevant script is provided in the listing below, where we re-use the
 previously defined series 
\family typewriter
b.yup
\family default
 and 
\family typewriter
b.fcup
\family default
.
 The positive test statistic of 1.88 indicates that the actual forecast outperfor
ms a pure coin flip which is statistically confirmed by the p-value.
 The Pesaran-Timmermann test may be seen as an alternative test for directional
 forecasts.
\end_layout

\begin_layout LyX-Code
applyFCtests(&b, "DL")
\end_layout

\begin_layout LyX-Code
*** OUTPUT ***
\end_layout

\begin_layout LyX-Code
H0: y(t) and fc(t) are independent
\end_layout

\begin_layout LyX-Code
Info-value: 1.8750
\end_layout

\begin_layout LyX-Code
Test stat.: 13.3875
\end_layout

\begin_layout LyX-Code
p-value.: 0.0003
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Branch nurWP
status open

\begin_layout Section
Summary
\end_layout

\begin_layout Standard
FIXME...
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset bibtex
LatexCommand bibtex
bibfiles "feplib"
options "plainnat"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset Branch nurDoku
status open

\begin_layout Section
\start_of_appendix
Changelog
\end_layout

\begin_layout Itemize
version 2.1 (February 2018): 
\end_layout

\begin_deeper
\begin_layout Itemize
doCGtest():
\end_layout

\begin_deeper
\begin_layout Itemize
re-centering of the CGX series for the orthogonality test is done properly
 (recursively) now
\end_layout

\begin_layout Itemize
rewrite the entire CG test apparatus based on new function CamDufStats (referrin
g to Campbell & Dufour 1995, not yet in references), properly taking into
 account the necessary different variants of constructing the ranks
\end_layout

\begin_layout Itemize
remove the method switch CGmeth and always calculate both variants
\end_layout

\end_deeper
\begin_layout Itemize
add print-out option for doDLtest, doHPtest and doMZtest
\end_layout

\begin_layout Itemize
fix bug and simplify the computation of the DL test
\end_layout

\end_deeper
\begin_layout Itemize
version 2.0 (December 2017): 
\end_layout

\begin_deeper
\begin_layout Itemize
switch the documentation to this PDF file 
\end_layout

\begin_layout Itemize
harmonize the functions' interfaces, in a hopefully backwards-compatible
 way (old behavior not documented anymore)
\end_layout

\begin_layout Itemize
introduce more default values (b.nboot = 0, b.fhor = 1, b.verb = 0...)
\end_layout

\begin_layout Itemize
allow more than one test spec in applyFCtests()
\end_layout

\begin_layout Itemize
For functions that deal with FC errors E, infer the respective series from
 the bundle input of realizations y and forecasts fc if E isn't directly
 given.
\end_layout

\begin_layout Itemize
add probscore() and doPS()
\end_layout

\begin_layout Itemize
deprecate doKStest() in favor of doKS() because it is not a test
\end_layout

\begin_layout Itemize
deprecate doKGtest() in favor of doHPtest() because the reference is Holden-Peel
\end_layout

\begin_layout Itemize
fix bug with the CG tests for 
\begin_inset Formula $k>1$
\end_inset


\end_layout

\begin_layout Itemize
deprecate doCGRANKtest() and doCGWILCtest() in favor of single doCGtest()
 with method switch (also CGRANK didn't really have ranks in it); and switch
 to gretl built-in nonparametric test (difftest)
\end_layout

\end_deeper
\begin_layout Itemize
version 1.3 (July 2017)
\end_layout

\begin_deeper
\begin_layout Itemize
add a GUI wrapper
\end_layout

\begin_layout Itemize
fix another bug with p-value calculation in the PT case
\end_layout

\begin_layout Itemize
DL test: additional info value now in <bundle>.DLinfo, test stat in <bundle>.DLsta
t (backward incompatible change) 
\end_layout

\end_deeper
\begin_layout Itemize
version 1.25 (12.06.2017): Correct a bug in the computation of the p-value
 of the Pesaran-Timmermann test when using HAC S.E.
\end_layout

\begin_layout Itemize
version 1.24 (22.05.2017)
\end_layout

\begin_deeper
\begin_layout Itemize
Add the getLoss() function for computing forecast error losses (written
 by Sven Schreiber) 
\end_layout

\begin_layout Itemize
no specific data type for usage of the FEP package required now
\end_layout

\end_deeper
\begin_layout Itemize
version 1.23 (09.05.2017): Some small improvements in both DrawLoss() and DrawLoss2
() (thanks to Sven Schreiber for suggestions) 
\end_layout

\begin_layout Itemize
version 1.22 (08.03.2017) 
\end_layout

\begin_deeper
\begin_layout Itemize
corrected: Pesaran/Timmermann test should be a 1-sided not 2-sided alternative
 
\end_layout

\begin_layout Itemize
DrawLoss() (related to doEKTtest) now also plots the 2 S.E.
 of the estimated loss function based on the estimated (a-)symmetry parameter
 alpha 
\end_layout

\begin_layout Itemize
add the function DrawLoss2() which can be called manually (see sample script)
 to plot jointly 2 loss functions as well as its associated 2 S.E.
\end_layout

\end_deeper
\begin_layout Itemize
version 1.21 (26.01.2017): return classification matrix Ksmat computed for
 the Kuipers Score
\end_layout

\begin_layout Itemize
version 1.20 (15.01.2017)
\end_layout

\begin_deeper
\begin_layout Itemize
Replace the DiebMar.gfn package (vers.
 1.0) for computation of Diebold-Mariano test by own regression-based procedure
 using HAC robust S.E.
 
\end_layout

\begin_layout Itemize
*** NOTE: The function's usage has changed from vers.
 1.1 -> 1.2!
\end_layout

\end_deeper
\begin_layout Itemize
version 1.10 (30.12.2016)
\end_layout

\begin_deeper
\begin_layout Itemize
Correction of small bug in doDMtest() which occured for loss>2
\end_layout

\begin_layout Itemize
add Kuipers Score
\end_layout

\begin_layout Itemize
add Pesaran&Timmermann Test (1992)
\end_layout

\end_deeper
\begin_layout Itemize
version 1.01 (24.11.2016): In doKGtest() the linear restriction was not correctly
 set.
\end_layout

\end_inset


\end_layout

\end_body
\end_document
